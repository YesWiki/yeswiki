{% extends "@bazar/layouts/input.twig" %}

{% block input %}
    <div class="input-group">
        {% if value %}
            <a href="{{ fileUrl }}" target="_blank" download="{{ shortFileName }}">{{ shortFileName }}</a>
            &nbsp;-&nbsp;            
            {% if isAllowedToDeleteFile %}
                <a href="{{ deleteUrl }}" 
                   onClick="javascript:return confirm('{{ _t('BAZ_CONFIRMATION_SUPPRESSION_FICHIER') }}');">
                    {{- _t('BAZ_SUPPRIMER') -}}
                </a>            
            {% else %}            
                <button class="btn btn-sm btn-danger" disabled="disabled"
                    data-toggle="tooltip" data-placement="bottom" title="{{ _t('BAZ_DROIT_INSUFFISANT') }}">
                    <i class="fa fa-trash"></i>
                    {{ _t('BAZ_SUPPRIMER') }}
                </button>
            {% endif %}
            <br />
            <input
                type="hidden"
                name="{{ field.propertyName }}"
                value="{{ value }}"
            />
        {% else %}
            <input
                type="file"
                id="{{ field.propertyName }}"
                name="{{ field.propertyName }}"
                class="form-control"
                {% if field.required %}required{% endif %}
            />
        {% endif %}
    </div>
{% endblock %}
